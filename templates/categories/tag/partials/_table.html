{% load accounts i18n %}

<div class="table-responsive">
    <table class="table table-striped table-hover table-bordered">
        <thead>
            <tr>
                <th>{% trans 'tag' %}</th>
                <th>{% trans 'accounts' %}</th>
                <th>{% trans 'number of entries' %}</th>
            </tr>
        </thead>
        <tbody>
            {% for tag in tags %}
                <tr>
                    <th><a href="{% url 'tag' tag.slug %}">{{ tag.name|lower }}</a></th>
                    <td>
                        {% for account in tag|accounts:ledger %}
                            <a href="{% url 'account' account.slug %}">{{ account|lower }}</a>{% if not forloop.last %}, {% endif %}
                        {% endfor %}
                    </td>
                    <td class="text-right">{{ tag.entries.count }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
