{% extends "ledger/base.html" %}
{% load i18n %}

{% block breadcrumbs %}
<li><a href="{% url 'dashboard' %}">dashboard</a></li>
<li><a href="{% url 'categories' %}">categories</a></li>
<li><a href="{% url 'category' category.slug %}">{{ category.name|lower }}</a></li>
<li>delete</li>
{% endblock %}

{% block content %}
<div class="row">
	<div class="col-md-6 col-md-offset-3">
		<div class="shape shapeform">
			<div class="title">delete {{ category.name|lower }}</div>
			<div class="content">
				<form action="{% url 'category_delete' category.slug %}" method="post" class="form">
					{% csrf_token %}
					<div class="alert alert-danger" role="alert">
						<h5><b>confirm deletion</b></h5>
						<p>are you sure you want to delete this category? all of the following objects and their related items will be deleted:</p>

						<ul>
							<li>
								category: <a href="{% url 'category' category.slug %}">{{ category.name|lower }}</a>
								{% if category.entry_set.all %}
									<ul>
										{% for entry in category.entry_set.all %}
											<li>entry: <a href="{% url 'category_entries' category.slug %}">{{ entry.day|date:'D., d. F Y' }} - {{ entry.category.name|lower }}</a></li>
										{% endfor %}
									</ul>
								{% endif %}
							</li>
						</ul>
						<br/>
						<button class="btn btn-danger" name="_delete_category" value="_delete_category" type="submit">yes, i'm sure</button>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>
{% endblock%}