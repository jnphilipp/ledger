{% extends "ledger/base.html" %}
{% load accounts i18n %}


{% block breadcrumbs %}
<li><a href="{% url "dashboard" %}">{% trans "Dashboard" %}</a></li>
{% if account %}
    <li><a href="{% url "accounts:accounts" %}">{% trans "Accounts" %}</a></li>
    <li><a href="{% url "accounts:account" account.slug %}">{{ account.name }}</a></li>
    <li><a href="{% url "accounts:account_entries" account.slug %}">{% trans "Entries" %}</a></li>
{% else %}
    <li><a href="{% url "accounts:entries" %}">{% trans "Entries" %}</a></li>
{% endif %}
<li class="active">{% blocktrans with id=entry.serial_number %}Entry #{{ id }}{% endblocktrans %}</li>
{% endblock %}


{% block content %}
<div class="row">
    <div class="col-md-12 text-right">
        <h1>
            <a href="{% if account %}{% url "accounts:account_entry_edit" account.slug entry.id  %}{% else %}{% url "entry_edit" entry.id  %}{% endif %}" class="btn btn-primary" role="button"><span class="glyphicon glyphicon-pencil"></span> {% trans "Edit entry" %}</a>
            <a href="{% if account %}{% url "accounts:account_entry_delete" account.slug entry.id  %}{% else %}{% url "entry_delete" entry.id  %}{% endif %}" class="btn btn-danger" role="button"><span class="glyphicon glyphicon-trash"></span> {% trans "Delete entry" %}</a>
        </h1>
    </div>
</div>
<div class="row">
    <div class="col-md-8 col-md-offset-2">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h1 class="panel-title">{% blocktrans with id=entry.serial_number %}Entry #{{ id }}{% endblocktrans %}</h1>
            </div>
            <div class="panel-body">
                <dl class="dl-horizontal">
                    <dt>{% trans "Created at" %}</dt>
                    <dd>{{ entry.created_at|date:"r" }}</dd>
                    <dt>{% trans "Last updated at" %}</dt>
                    <dd>{{ entry.updated_at|date:"r" }}</dd>
                    <dt>{% trans "Account" %}</dt>
                    <dd><a href="{% url "accounts:account" entry.account.slug %}">{{ entry.account.name }}</a></dd>
                    <dt>{% trans "Serial number" %}</dt>
                    <dd>{{ entry.serial_number }}</dd>
                    <dt>{% trans "Day" %}</dt>
                    <dd>{{ entry.day|date:"D, d.m.Y"  }}</dd>
                    <dt>{% trans "Amount" %}</dt>
                    <dd>{{ entry.amount|colorfy:entry.account.unit }}</dd>
                    <dt>{% trans "Category" %}</dt>
                    <dd><a href="{% url "categories:category" entry.category.slug %}">{{ entry.category.name }}</a></dd>
                    <dt>{% trans "Additional" %}</dt>
                    <dd>{{ entry.additional }}</dd>
                    <dt>{% trans "Tags" %}</dt>
                    <dd>
                        {% for tag in entry.tags.all %}
                            <a href="{% url "categories:tag" tag.slug %}">{{ tag.name }}</a>{% if not forloop.last %}, {% endif %}
                        {% endfor %}
                    </dd>
                </dl>
            </div>
        </div>
    </div>
</div>
{% endblock %}
