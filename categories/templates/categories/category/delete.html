{% extends "ledger/base.html" %}
{% load i18n %}


{% block breadcrumbs %}
<li class="breadcrumb-item"><a href="{% url "dashboard" %}">{% trans "Dashboard" %}</a></li>
<li class="breadcrumb-item"><a href="{% url "categories:categories" %}">{% trans "Categories" %}</a></li>
<li class="breadcrumb-item"><a href="{% url "categories:category" category.slug %}">{{ category.name }}</a></li>
<li class="breadcrumb-item active" aria-current="page">{% trans "Delete" %}</li>
{% endblock %}


{% block content %}
<div class="row">
    <div class="col-md-6 offset-md-3">
        <div class="alert alert-danger" role="alert">
            <h5><b>{% trans "Confirm deletion" %}</b></h5>
            <p>{% blocktrans %}Are you sure you want to delete this category? All of the following objects and their related items will be deleted:{% endblocktrans %}</p>
            <ul>
                <li>
                    {% trans "Category" %}: <a href="{% url "categories:category" category.slug %}">{{ category.name }}</a>
                    {% if category.accounts %}
                        <ul>
                            {% for account in category.accounts.all %}
                                <li>
                                    {% trans "Account" %}: <a href="{% url "accounts:account" account.slug %}">{{ account.name }}</a>
                                    <ul>
                                        {% for entry in account.entries.all %}
                                            <li>{% trans "Entry" %}: <a href="{% url "accounts:entry_detail" entry.id %}">{{ entry.account.name }} - #{{ entry.serial_number }} ({{ entry.day|date:"D., d. F Y" }})</a></li>
                                        {% endfor %}
                                    </ul>
                                </li>
                            {% endfor %}
                        </ul>
                    {% endif %}
                    {% if category.entries %}
                        <ul>
                            {% for entry in category.entries.all %}
                                <li>{% trans "Entry" %}: <a href="{% url "accounts:entry_detail" entry.id %}">{{ entry.account.name }} - #{{ entry.serial_number }} ({{ entry.day|date:"D., d. F Y" }})</a></li>
                            {% endfor %}
                        </ul>
                    {% endif %}
                </li>
            </ul>
            <hr>
            <form action="" method="post">
                {% csrf_token %}
                <input type="submit" value="{% trans "Yes, I'm sure" %}" class="btn btn-danger"/>
            </form>
        </div>
    </div>
</div>
{% endblock%}
