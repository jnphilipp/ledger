{% load accounts i18n %}

<div class="table-responsive">
    <table class="table table-striped table-hover table-bordered table-sm">
        <thead>
            <tr>
                <th>{% trans "Category" %}</th>
                <th>{% trans "Accounts" %}</th>
                <th>{% trans "Number of entries" %}</th>
            </tr>
        </thead>
        <tbody>
            {% for category in categories %}
                <tr>
                    <th><a href="{% url "categories:category" category.slug %}">{{ category.name }}</a></th>
                    <td>
                        {% for account in category|accounts:ledger %}
                            <a href="{% url "accounts:account" account.slug %}">{{ account }}</a>{% if not forloop.last %}, {% endif %}
                        {% endfor %}
                    </td>
                    <td class="text-right">{{ category.entries.count }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
